

{% liquid
  assign product_has_media = true
  if closest.product.media.size == 0
    assign product_has_media = false
  endif

  assign product_grid_class = 'product-information__grid product-information--media-left'
%}

<div
  class="{{ product_grid_class }}"
  data-product-grid-content
>
  {% if product_has_media %}
    <div
      class="product-information__media featured-product"
      data-testid="featured-product-media"
    >
      {% content_for 'block', type: '_featured-product-gallery', id: 'featured-product-gallery' %}

      {%- if closest.product.title != blank or closest.product.description != blank -%}
        <div class="product-information__media-content">
          {%- if closest.product.title != blank -%}
            <h2 class="product-information__media-title">{{ closest.product.title }}</h2>
          {%- endif -%}
          
          {%- if closest.product.description != blank -%}
            <div class="product-information__media-description rte">
              {{ closest.product.description }}
            </div>
          {%- endif -%}
        </div>
      {%- endif -%}
    </div>
  {% endif %}

  <div class="product-details">
    <div class="group-block">
      {% content_for 'block', type: 'product-title', id: 'featured-product-title' %}
      {% content_for 'block', type: '_featured-product-price', id: 'featured-product-price' %}
      {%- content_for 'block', type: 'swatches', id: 'featured-product-swatches' -%}
      
      {%- comment -%} Add variant picker if product has variants {%- endcomment -%}
      {%- if closest.product.has_only_default_variant == false -%}
        {% content_for 'block', type: 'variant-picker', id: 'featured-product-variant-picker' %}
      {%- endif -%}
      
      {%- comment -%} Quantity Selector {%- endcomment -%}
      <div class="quantity-selector-container">
        <label for="featured-quantity">Anzahl Sch√ºlerabos</label>
        {% render 'quantity-selector', product: closest.product, class: 'featured-product-quantity' %}
      </div>
      
      {%- comment -%} Free Samples Display {%- endcomment -%}
      {% render 'free-samples-display', product: closest.product %}
      
      {%- comment -%} Add to Cart Button {%- endcomment -%}
      {% content_for 'block', 
        type: 'add-to-cart', 
        id: 'featured-product-add-to-cart',
        can_add_to_cart: 'true'
      %}
    </div>
  </div>
</div>

{% stylesheet %}
  /* Featured product uses the same styles as product-information */
  /* All styles are inherited from sections/product-information.liquid */
{% endstylesheet %}

{% schema %}
{
  "name": "t:names.product",
  "tag": null,
  "settings": [
    {
      "type": "paragraph",
      "content": "t:content.resource_reference_product_card"
    }
  ]
}
{% endschema %}
